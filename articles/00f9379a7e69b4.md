---
title: "ONNX ã«ã¤ã„ã¦"
emoji: "ğŸª¨"
type: "idea" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ONNX"]
published: false
---

# ã¯ã˜ã‚ã«

> **ONNX is an open format built to represent machine learning models.**
>
> ONNX defines a common set of operators -
> the building blocks of machine learning and deep learning models -
> and a common file format to enable AI developers to use models with
> a variety of frameworks, tools, runtimes, and compilers.
>
> *[onnx.ai](https://onnx.ai/) ã‚ˆã‚Š*

[ONNX](https://github.com/onnx/onnx) ã¨ã¯ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã®ã‚ªãƒ¼ãƒ—ãƒ³ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆã‚„å‘¨è¾ºã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼‰ã‚’æŒ‡ã—ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€ã‚ã¾ã‚Šæ—¥æœ¬èªã®è³‡æ–™ãŒè¦‹ã¤ã‹ã‚‰ãªã„éƒ¨åˆ†ã€ç‰¹ã« **ONNX ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ§‹é€ ã‚„ä¸Šæ‰‹ãªæ‰±ã„æ–¹**ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãã¾ã™ã€‚

ãªãŠã€å¿…ãšã—ã‚‚æ­£ç¢ºãªæƒ…å ±ã‚’æä¾›ã§ãã‚‹ã‚ã‘ã§ã¯ãªã„ãŸã‚ã€é–“é•ã„ãªã©ã¯ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ã„ãŸã ã‘ã‚‹ã¨åŠ©ã‹ã‚Šã¾ã™ã€‚

# ä¾¿åˆ©ãªãƒªãƒ³ã‚¯é›†

- https://onnx.ai
    - å…¬å¼ã‚µã‚¤ãƒˆ
    - å„ç¨®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸é£›ã¶ãŸã‚ã®ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã¨ã—ã¦ã‚‚æ©Ÿèƒ½ã—ã¦ã„ã‚‹
- https://github.com/onnx/onnx
    - å…¬å¼ GitHub ãƒªãƒã‚¸ãƒˆãƒª
    - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å®šç¾©ã‚„å‘¨è¾ºãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ„ãƒ¼ãƒ«ãªã©ã‚’ç®¡ç†ã—ã¦ã„ã‚‹
- https://github.com/onnx/onnx/blob/main/docs/
    - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    - å›°ã£ãŸã‚‰ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã‚’æ¢ã™
- https://github.com/onnx/onnx/blob/main/docs/IR.md
    - IR (ä¸­é–“è¡¨ç¾ï¼‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- https://github.com/onnx/onnx/blob/main/docs/Operators.md
    - ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆä¸€è¦§ï¼‰
- https://github.com/onnx/models
    - ONNX å½¢å¼ã®å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ãŒå¤šæ•°ç½®ã„ã¦ã‚ã‚‹ãƒªãƒã‚¸ãƒˆãƒª
    - PyTorch ãªã©ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ä»–ã«ã“ã†ã„ã£ãŸå ´æ‰€ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹
- https://github.com/PINTO0309/PINTO_model_zoo
    - å€‹äººã§è†¨å¤§ãªæ•°ã® ONNX å½¢å¼ãƒ¢ãƒ‡ãƒ«ã‚’ç®¡ç†ã•ã‚Œã¦ã„ã‚‹æ–¹ã®ãƒªãƒã‚¸ãƒˆãƒª

# ONNX ã®æ§‹é€ 

ONNX ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆä»¥ä¸‹ ONNXï¼‰ã¯ã€[IR.md](https://github.com/onnx/onnx/blob/main/docs/IR.md) ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€[Protocol Buffers ã¨ã—ã¦å®šç¾©](https://github.com/onnx/onnx/blob/main/onnx/onnx.proto)ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã¤ã¾ã‚Šã€`*.onnx` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‹ã‘ãŸã‚‰ã€Protocol Buffers ã¨ã—ã¦ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã™ã‚Œã°ä¸­èº«ã‚’è¦—ãã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã€‚

ã¾ãšã¯å¤§ã¾ã‹ãªæ§‹é€ ã‚’æŠŠæ¡ã—ã¦ã€ãã®å¾Œã«ç´°ã‹ã„éƒ¨åˆ†ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

## å…¨ä½“åƒ

ONNX ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªéšå±¤æ§‹é€ ã‹ã‚‰æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼ˆã„ãã¤ã‹çœã„ã¦ã„ã‚‹è¦ç´ ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚

- Model ([`onnx.ModelProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L348)) - ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«è¦ç´ ï¼‰
    - Graph ([`onnx.GraphProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L447)) - è¨ˆç®—ã‚°ãƒ©ãƒ•
        - Node ([`onnx.NodeProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L204)) - è¨ˆç®—ãƒãƒ¼ãƒ‰

ã¾ãŸã€ã“ã‚Œã‚‰ã®è¦ç´ ã«å«ã¾ã‚Œã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã—ã¦ä»¥ä¸‹ãŒå­˜åœ¨ã—ã¾ã™ï¼ˆå€‹äººçš„ã«é‡è¦ã ã¨åˆ¤æ–­ã—ãŸã‚‚ã®ã‚’æŠœç²‹ã—ã¦ã„ã¾ã™ï¼‰ã€‚

- Tensor ([`onnx.TensorProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L487))
- ValueInfo ([`onnx.ValueInfoProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L187))
- Attribute ([`onnx.AttributeProto`](https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/onnx/onnx-ml.proto#L120))

### Model


> | Name             | Type                | Description                                                                                                                                        |
> | ---              | ---                 | ---                                                                                                                                                |
> | ir_version       | int64               | The ONNX version assumed by the model.                                                                                                             |
> | opset_import     | OperatorSetId       | A collection of operator set identifiers made available to the model. An implementation must support all operators in the set or reject the model. |
> | producer_name    | string              | The name of the tool used to generate the model.                                                                                                   |
> | producer_version | string              | The version of the generating tool.                                                                                                                |
> | domain           | string              | A reverse-DNS name to indicate the model namespace or domain, for example, 'org.onnx'                                                              |
> | model_version    | int64               | The version of the model itself, encoded in an integer.                                                                                            |
> | doc_string       | string              | Human-readable documentation for this model. Markdown is allowed.                                                                                  |
> | **graph**        | **Graph**           | The parameterized graph that is evaluated to execute the model.                                                                                    |
> | metadata_props   | map<string,string>  | Named metadata values; keys should be distinct.                                                                                                    |
> | training_info    | TrainingInfoProto[] | An optional extension that contains information for training.                                                                                      |
> | functions        | FunctionProto[]     | An optional list of functions local to the model.                                                                                                  |
> 
> https://github.com/onnx/onnx/blob/a66b596981156097da5988cf6f9527817e5bcad7/docs/IR.md#models

### Graph

### Node

## Operator versioning

# ONNX ã®æ‰±ã„æ–¹
